Setting up the server

Install zeromq

sudo pip install pyramid
sudo pip install boto
sudo pip install pyzmq

Installing Mongo:

Install latest MongoDB x64 to ~/mongodb
Start MongoDB:
 - sudo mkdir -p /data/db
 - sudo chown fishtest:fishtest /data/db
 - cd ~/mongodb/bin
 - nohup ./mongod >mongod.out &
Restore database from s3 fishtest/backup/archive/20130623:
 - mkdir -p ~/backup/restore
 - cd ~/backup/restore
 - Using boto "fetch_file s3://fishtest/backup/archive/20130623/dump.tar.gz -o dump.tar.gz"
 - tar xvf dump.tar.gz
 - ~/mongodb/bin/mongorestore dump

Mapping port 6543 to port 80:

sudo iptables -t nat -A PREROUTING -p tcp --dport 80 -j REDIRECT --to-port 6543
sudo iptables -I INPUT -p tcp --dport 6543 -j ACCEPT
sudo iptables -t nat -A OUTPUT -o lo -p tcp --dport 80 -j REDIRECT --to-port 6543

sudo /sbin/service iptables save
